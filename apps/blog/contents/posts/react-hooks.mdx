---
title: "React Hooks ê¸°ì´ˆ"
date: 2022-06-28
summary: "Reactì˜ Hooksì€ ë¬´ì—‡ì´ê³ , ëŒ€í‘œì ì¸ Hooksë¥¼ ì•Œì•„ë³´ì"
tags: ["React", "TypeScript"]
draft: false
---

## ğŸŒŠ React.js Hooks

**Hooks**ëŠ” Componentì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê±°ë‚˜ ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ë‹¤. ê¸°ì¡´ì˜ React.jsì—ì„œëŠ” Component ë‚´ë¶€ì˜ Stateì™€ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ë ¤ë©´ Class Componentë¥¼ ì‚¬ìš©í•´ì•¼ í–ˆìœ¼ë‚˜, Function Componentì—ì„œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ 16.8 ë²„ì „ ì´í›„ë¡œ ì¶”ê°€ëœ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‹¤.

ì¦‰, Function Componentì—ì„œ React stateì™€ ìƒëª…ì£¼ê¸° ê¸°ëŠ¥(lifecycle features)ì„Â **ì—°ë™(hook into)**Â í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì´ ë°”ë¡œ Hookì´ë‹¤.

### Hooksë¥¼ í™œìš©í•˜ëŠ” ì´ìœ 

**ê¸°ì¡´ React.js ë¬¸ì œì **

- Component ì‚¬ì´ì—ì„œ Stateì™€ ê´€ë ¨ëœ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤.
- ë³µì¡í•œ Componentë“¤ì„ ì´í•´í•˜ê¸° ì–´ë µë‹¤.
- Class Componentì˜ `this`ì˜ ë¬¸ì œì 

**Hooksì˜ ì¥ì **

- Componentì˜ í•¨ìˆ˜ê°€ ë§ì•„ì§ˆ ë•Œë¶€í„° Class Componentë¡œ ë¦¬íŒ©í† ë§í•  í•„ìš”ê°€ ì—†ë‹¤.
- UIì™€ ë¡œì§ì„ ìˆ˜ë¹„ê²Œ ë¶„ë¦¬í•´ ë‘ ê°€ì§€ ëª¨ë‘ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ê¸°ì¡´ ì½”ë“œë¥¼ ë‹¤ì‹œ ì‘ì„±í•  í•„ìš” ì—†ì´ ì¼ë¶€ Component ë‚´ë¶€ì—ì„œ Hookì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- Hookì„ ì‚¬ìš©í•˜ë©´ Componentë¡œë¶€í„° ìƒíƒœ ê´€ë ¨ ë¡œì§ì„ ì¶”ìƒí™”í•  ìˆ˜ ìˆë‹¤. ì¦‰, Componentë³„ë¡œ ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ì™€ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê³ , Component ê°„ ê³„ì¸µ ë³€í™” ì—†ì´ ìƒíƒœ ê´€ë ¨ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Hooks ì‚¬ìš© ê·œì¹™

- HooksëŠ” ë°˜ë“œì‹œ React.js í•¨ìˆ˜(Component, Hook) ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- Hooksì˜ ì´ë¦„ì€ `use`ë¡œ ë°˜ë“œì‹œ ì‹œì‘í•œë‹¤.
- ìµœìƒìœ„ ë ˆë²¨ì—ì„œë§Œ Hooksë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.(ex. `if`, `for`, ì½œë°± í•¨ìˆ˜, ì¤‘ì²©ëœ í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ë¶ˆê°€ëŠ¥)
  ì¦‰, Component ë‚´ë¶€ì˜ ì²« ë²ˆì§¸ ì¤‘ê´„í˜¸(`{}`) ë‚´ì— ì‘ì„±í•´ì•¼ í•œë‹¤.

### State Hook

ê°„ë‹¨í•œ ìƒíƒœ ê´€ë¦¬ì¡°ì°¨ë„ Class Componentë¡œ ì‘ì„±í•´ì•¼ í–ˆëŠ”ë°, ì´ëŠ” Function Componentë³´ë‹¤ ë³µì¡í•˜ê³  ì—ëŸ¬ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš°ë©° ìœ ì§€ ë³´ìˆ˜ê°€ í˜ë“¤ë‹¤. ë”°ë¼ì„œ State Hookì„ í™œìš©í•´ Function Componentì—ì„œ ê°„ë‹¨íˆ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
const App = () => {
  const [state, setState] = useState("ì´ˆê¸°ê°’");
};
```

Function Component ë‚´ë¶€ì˜ ë™ì ì¸ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” Hook.

- ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì½”ë“œ ì—­ì‹œ ë§¤ìš° ê°„ë‹¨í•´ì§€ëŠ” ì¥ì ì´ ìˆë‹¤.
- ì´ë ‡ê²Œ State Hookìœ¼ë¡œ ì„¤ì •ëœ `state` ê°’ì€ ì½ê¸° ì „ìš©ì´ë¯€ë¡œ ìˆ˜ì •í•˜ë©´ ì•ˆëœë‹¤.
- `state` ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” `setState` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- `state` ê°’ì´ ë³€ê²½ë˜ëŠ” ê²½ìš° ìë™ìœ¼ë¡œ Componentê°€ ë‹¤ì‹œ ë Œë”ë§ ëœë‹¤.
- `setState` í•¨ìˆ˜ í™œìš©ë²•
  - ì§ì ‘ ë³€ê²½í•  `state` ê°’ì„ ì¸ìë¡œ ì…ë ¥í•˜ëŠ” ë°©ì‹.
    ```jsx
    setState("ë³€ê²½í•  ê°’");
    ```
  - í˜„ì¬ `state` ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹. ğŸ‘
    ```jsx
    setState((current) => {
      return current + 1;
    });
    ```

### Effect Hook

- ~~Component Life Cycle~~
  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/05d86aa0-ca32-498d-9fa3-0caeb7fe3e48/Untitled.png)

React Component ì•ˆì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ êµ¬ë…í•˜ê³ , DOMì„ ì§ì ‘ ì¡°ì‘í•˜ëŠ” ë“±ì˜ ë‹¤ì–‘í•œ ì‘ì—…ë“¤ì„ Side Effects ë˜ëŠ” Effects ë¼ê³  í•œë‹¤.

Side Effectsì—ëŠ” Clean-upì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì´ ìˆëŠ”ë°, ì¦‰, DOMì„ ì—…ë°ì´íŠ¸ í•œ ë’¤ ì¶”ê°€ë¡œ ì½”ë“œë¥¼ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” Clean-upì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. í•´ë‹¹ ComponentëŠ” ë Œë”ë§ ì´í›„ ê³„ì† ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ì´ì™€ ë‹¬ë¦¬ Clean-upì´ í•„ìš”í•œ Side Effectsë„ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” Componentì˜ ê²½ìš°ì—ëŠ” ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë§‰ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•´ì£¼ì–´ì•¼ í•œë‹¤. ì¦‰, DOM ë Œë”ë§ ì´í›„ ì¶”ê°€ë¡œ í•„ìš”í•˜ì§€ ì•Šì€ ì½”ë“œì´ê±°ë‚˜, ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë“±ì˜ ê²½ìš°ì—ëŠ” Clean-upì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.

ì´ëŸ¬í•œ ë¶€ë¶„ì„ í•´ê²°í•˜ê¸° ìœ„í•´ Class Componentì—ì„œëŠ” `componentWillUnmount()`ë“±ì˜ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ í™œìš©í•˜ì§€ë§Œ, Function Componentì—ì„œëŠ” Effect Hookì„ ì‚¬ìš©í•œë‹¤.

ì¦‰, Function Component ì™¸ë¶€ì—ì„œ ë¡œì»¬ì˜ ìƒíƒœ ê°’ì„ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë‹¤ë§Œ, ì´ëŸ¬í•œ ê³¼ì •ì€ ë‹¤ë¥¸ Componentì— ì˜í–¥ì„ ì¤„ ìˆ˜ë„ ìˆì–´ ë Œë”ë§ ê³¼ì •ì—ì„œëŠ” êµ¬í˜„í•  ìˆ˜ê°€ ì—†ë‹¤.

ë”°ë¼ì„œ Effect Hookì„ í™œìš©í•´ Function Component ë‚´ì—ì„œ side effectsë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

í•„ìˆ˜ì ì¸ APIë¥¼ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ **`useEffect()`**ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë Œë”ë§í•˜ëŠ” ìš”ì†Œë§ˆë‹¤ ì›í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ ì½”ë“œë¥¼ ì¤‘ë³µí•  í•„ìš”ê°€ ì—†ë‹¤.

```jsx
const App = () => {
	useEffect(effectCallback, Deps?);
	// effectCallback: ì§€ì •ëœ ëŒ€ìƒ ë³€ìˆ˜ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš° ì‹¤í–‰í•  í•¨ìˆ˜
	// Deps: ë³€ê²½ì„ ê°ì§€í•  ëŒ€ìƒ ë³€ìˆ˜ë“¤ì˜ ë°°ì—´
}
```

Function Component ë‚´ë¶€ì—ì„œ Side Effectë¥¼ ìˆ˜í–‰í•˜ëŠ” Hook.

- Componentê°€ ìµœì´ˆë¡œ ë Œë”ë§ë  ë•Œ, ì§€ì •í•œ Stateë‚˜ Propsê°€ ë³€ê²½ë  ë•Œ ë“± ë‹¤ì–‘í•œ ê²½ìš°ì— `effectCallback` í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
- Depsê°€ ë¹ˆ ë°°ì—´`[]`ì´ë¼ë©´, Component ìµœì´ˆ ìƒì„± ì‹œ í•œë²ˆë§Œ ì‹¤í–‰í•˜ëŠ” íš¨ê³¼ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ë‹¤.
- useEffect Hook ë‚´ì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì€ `state` ê°’ì´ ë³€ê²½ë˜ì–´ Componentê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ê¸° ì „ê³¼ Componentê°€ ì—†ì–´ì§ˆ ë•Œ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤.

  ```jsx
  const App = () => {
  	useEffect(() => {
  			// ... Stateê°€ ë³€ê²½ë  ë•Œ, Componentë¥¼ ë Œë”ë§í•  ë•Œ
  		}

  		return () => {
  			// ... Componentë¥¼ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ, Componentê°€ ì—†ì–´ì§ˆ ë•Œ
  		}
  	);
  }
  ```

### Memo Hook

```jsx
const App = () => {
  const [firstName, setFirstName] = useState("ì² ìˆ˜");
  const [lastName, setLastName] = useState("ê¹€");

  const fullName = useMemo(() => {
    return `${lastName}${firstName}`;
  }, [firstName, lastName]);
};
```

ì§€ì •í•œ Stateë‚˜ Propsê°€ ë³€ê²½ë  ê²½ìš° í•´ë‹¹ ê°’ì„ í™œìš©í•´ ê³„ì‚°ëœ ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ì¤„ì—¬ì¤„ ë•Œ í™œìš©í•œë‹¤.

- Memo Hook ì—°ì‚°ì€ ë Œë”ë§ ë‹¨ê³„ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤. ë”°ë¼ì„œ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë¡œì§ì€ ì‘ì„±í•˜ì§€ ì•Šë„ë¡ ê¶Œì¥ëœë‹¤. ì„±ëŠ¥ í•˜ë½ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```jsx
import React, { useState, useMemo } from "react";

function App() {
  const [foo, setFoo] = useState(0);
  const [bar, setBar] = useState(0);

  let multi = useMemo(() => {
    return foo * bar;
  }, [foo, bar]);

  return (
    <div className="App">
      <input
        type="number"
        value={foo}
        onChange={(e) => setFoo(+e.target.value)}
      />
      <input
        type="number"
        value={bar}
        onChange={(e) => setBar(+e.target.value)}
      />
      <div>{multi}</div>
    </div>
  );
}

export default App;
```

### Callback Hook

```jsx
const App = () => {
  const [firstName, setFirstName] = useState("ì² ìˆ˜");
  const [lastName, setLastName] = useState("ê¹€");

  const getFullName = useCallback(() => {
    return `${lastName}${firstName}`;
  }, [firstName, lastName]);

  return <>{getFullName()}</>;
};
```

Callback Hookì€ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” Hook.

- Componentê°€ ë‹¤ì‹œ ë Œë”ë§ë  ë•Œ ë¶ˆí•„ìš”í•˜ê²Œ í•¨ìˆ˜ê°€ ì¬ìƒì„±ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.
- Memo Hookì´ ë³€ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•œë‹¤ë©´, Callback Hookì€ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•œë‹¤.
  `useMemo(() â‡’ fn, deps)`ì™€ `useCallback(fn, deps)`ëŠ” ë™ì¼í•˜ë‹¤.

```jsx
import React, { useState, useCallback } from "react";

function App() {
  const [foo, setFoo] = useState(0);
  const [bar, setBar] = useState(0);

  let calc = useCallback(() => {
    return foo + bar;
  }, [foo, bar]);

  return (
    <div className="App">
      <input
        type="number"
        value={foo}
        onChange={(e) => setFoo(+e.target.value)}
      />
      <input
        type="number"
        value={bar}
        onChange={(e) => setBar(+e.target.value)}
      />
      <div>{calc()}</div>
    </div>
  );
}

export default App;
```

### Reference Hook

```jsx
const App = () => {
  const inputRef = useRef(null);
  const handleClickBtn = () => {
    inputRef.current.focus();
  };

  return (
    <div>
      <input ref={inputRef} type="text" />
      <button onClick={handleClickBtn}>inputìœ¼ë¡œ í¬ì»¤ìŠ¤í•˜ê¸°</button>
    </div>
  );
};
```

Component ìƒì•  ì£¼ê¸° ë‚´ì—ì„œ ìœ ì§€í•  ref ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” Hook.

ê¸°ë³¸ì ìœ¼ë¡œ Stateê°€ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ë Œë”ë§ëœë‹¤. ë‹¤ë§Œ, ê°’ì„ ë³€ê²½í•˜ë”ë¼ë„ ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•Šê²Œë” í•´ì•¼ í•  ìƒí™©ì´ ìˆì„ ìˆ˜ ìˆë‹¤. ì´ë•Œ `let`ì„ í™œìš©í•´ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤ë©´ Componentë¥¼ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ `let` ì„ ì–¸ë¬¸ì´ ë‹¤ì‹œ ì„ ì–¸ë˜ì–´ ê°’ì´ ì´ˆê¸°í™”ë˜ê²Œ ëœë‹¤.

ë”°ë¼ì„œ ì´ëŸ° ìƒí™©ì—ì„œ Reference Hookì„ í™œìš©í•œë‹¤.

- `ref` ê°ì²´ëŠ” `current` ì†ì„±ì„ ê°€ì§€ë©° ì´ë¥¼ ììœ ë¡­ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- useRefì— ì˜í•´ ë°˜í™˜ëœ ref ê°ì²´ê°€ ë³€ê²½ë˜ë”ë¼ë„ Componentê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ DOM ìš”ì†Œì— ì ‘ê·¼í•  ë•Œ í•´ë‹¹ ìš”ì†Œì— `ref` ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©í•œë‹¤.
  ì¦‰, ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ `inputRef.current`ì— í•´ë‹¹ `input` ìš”ì†Œê°€ í• ë‹¹ëœë‹¤.
  ```jsx
  <input ref={inputRef} type="text" />
  ```

```jsx
import React, { useRef } from "react";

function App() {
  const inputRef = useRef(null);
  return (
    <div className="App">
      <input ref={inputRef} />
      <button
        onClick={() => {
          alert(inputRef.current.value);
        }}
      >
        í´ë¦­í•˜ê¸°
      </button>
    </div>
  );
}

export default App;
```

### Custom Hook

ìì‹ ë§Œì˜ Hookì„ ë§Œë“¤ì–´ Component ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¦‰, UI ìš”ì†Œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ Componentë¥¼ í™œìš©í•˜ê³ , ë¡œì§ì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ Custom Hookì„ í™œìš©í•œë‹¤.

```jsx
fucntion useCustomHook(args) {
	const [status, setStatus] = useState(null);
	// ...
	return status;
}
```

- í•˜ë‚˜ì˜ ë¡œì§ì´ ì—¬ëŸ¬ ë²ˆ í™œìš©ë˜ëŠ” ê²½ìš° í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì²˜ëŸ¼ Hookìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.
- useë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.
- í•˜ë‚˜ì˜ Hook ë‚´ì˜ `state`ëŠ” ê³µìœ ë˜ì§€ ì•ŠëŠ”ë‹¤.
